
# ------------------------------------------------------------------------------
# RadMac .env.template â€” Example Environment Variables
# ------------------------------------------------------------------------------

# --- Flask App Secrets ---
FLASK_SECRET_KEY=your-secret-key

# --- Database Configuration ---
DB_HOST=db
DB_PORT=3306
DB_NAME=radius
DB_USER=radiususer
DB_PASSWORD=radiuspass
# Only used by the MariaDB container
MARIADB_ROOT_PASSWORD=rootpassword

# --- MAC Lookup API ---
OUI_API_KEY= # only required if you want to increase the OUI limits
OUI_API_URL=https://api.maclookup.app/v2/macs/{}

# --- Rate Limits ---
OUI_API_LIMIT_PER_SEC=2
OUI_API_DAILY_LIMIT=10000

# --- Logging ---
LOG_TO_FILE=true
LOG_FILE_PATH=/app/logs/app.log

# --- Timezone ---
APP_TIMEZONE=America/Toronto

# --- RADIUS Configuration ---
RADIUS_SECRET=changeme
RADIUS_PORT=1812
# Fallback VLAN when MAC not found
DEFAULT_VLAN=505
# Assign MAC to this VLAN to deny them access (prevent fallback)
DENIED_VLAN=999

# ------------------------------------------------------------------------------
# Watchdog Configuration
# ------------------------------------------------------------------------------
#
# 1. Per-service settings (health URLs, intervals, actions) should be defined in
#    watchdog/watchdog_config.yaml. This file is version-controlled and is the
#    primary place for structured, per-service configuration.
#
# 2. Environment variables (set in .env) are best for:
#    - Secrets and notification tokens (e.g., webhook URLs, email passwords)
#    - Deployment-time overrides (e.g., in CI/CD or Docker Swarm)
#    - Global defaults (if not set in the config file)
#
# 3. Precedence:
#    - If a value is set in watchdog_config.yaml for a service, it takes precedence.
#    - If a value is not set in the config file, the watchdog will look for an
#      environment variable (e.g., WATCHDOG_CHECK_INTERVAL or service-specific
#      variables like WATCHDOG_CHECK_INTERVAL_APP).
#    - If neither is set, the built-in default is used.
#
# 4. Recommended:
#    - Use watchdog_config.yaml for all per-service health checks, intervals, and actions.
#    - Use .env for secrets, notification tokens, and any value you want to override
#      at deployment time without editing the config file.
#    - Do not duplicate values unless you want override behavior.
#
# Example:
#   - Set notification tokens and secrets in .env
#   - Set health URLs, intervals, and actions in watchdog_config.yaml
#   - Only set an environment variable for a setting if you want to override the config
#
# This approach keeps your configuration clean, secure, and easy to manage.

# --- Watchdog Core Settings ---
WATCHDOG_HEALTH_URL=http://app:8080/health
WATCHDOG_CHECK_INTERVAL=30
WATCHDOG_ACTIONS=log,webhook
WATCHDOG_WEBHOOK_URL=
WATCHDOG_MAX_RESTART_ATTEMPTS=3
WATCHDOG_CONTAINER_PREFIX=radmac
# Optional: Wait this many seconds after startup before monitoring (default: 60)
WATCHDOG_STARTUP_GRACE_PERIOD=60
# WATCHDOG_CHECK_INTERVAL_APP=30          # App service interval (seconds)
# WATCHDOG_CHECK_INTERVAL_DATABASE=30     # Database service interval (seconds)
# WATCHDOG_CHECK_INTERVAL_RADIUS=30       # Radius service interval (seconds)

# --- Notification Integrations (uncomment and fill as needed) ---
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_USER=your@email.com
# EMAIL_PASSWORD=yourpassword
# EMAIL_TO=destination@email.com
# WATCHDOG_DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...
# WATCHDOG_PUSHBULLET_TOKEN=your-pushbullet-token
# WATCHDOG_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
# WATCHDOG_TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/...
# WATCHDOG_TELEGRAM_BOT_TOKEN=your-telegram-bot-token
# WATCHDOG_TELEGRAM_CHAT_ID=your-chat-id